<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Naming Conventions - Spectator Docs</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../css/custom.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Naming Conventions";
    var mkdocs_page_input_path = "intro/conventions.md";
    var mkdocs_page_url = "/intro/conventions/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-82153845-2', 'auto');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Spectator Docs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Getting Started</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../registry/">Registry</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Meter Types</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../counter/">Counters</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../timer/">Timers</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../gauge/">Gauges</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../dist-summary/">Distribution Summaries</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../clock/">Clock</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Naming Conventions</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#names">Names</a></li>
                
                    <li><a class="toctree-l4" href="#describe-the-measurement">Describe the measurement</a></li>
                
                    <li><a class="toctree-l4" href="#use-camel-case">Use camel case</a></li>
                
                    <li><a class="toctree-l4" href="#static">Static</a></li>
                
                    <li><a class="toctree-l4" href="#succinct">Succinct</a></li>
                
            
                <li class="toctree-l3"><a href="#tags">Tags</a></li>
                
                    <li><a class="toctree-l4" href="#bad-approach">Bad approach</a></li>
                
                    <li><a class="toctree-l4" href="#recommended">Recommended</a></li>
                
            
                <li class="toctree-l3"><a href="#use-base-units">Use base units</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../testing/">Testing</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../netflix/">Netflix Integration</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../servo-comparison/">Servo Comparison</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Extensions</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../ext/jvm-buffer-pools/">Buffer Pools</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../ext/jvm-gc/">Garbage Collection</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../ext/jvm-gc-causes/">GC Causes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../ext/jvm-memory-pools/">Memory Pools</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../ext/log4j2/">Log4j2 Appender</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../ext/placeholders/">Placeholders</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Registries</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../registry/metrics3/">Metrics3</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../registry/servo/">Servo</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../reports/">Build Reports</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Spectator Docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Getting Started &raquo;</li>
        
      
    
    <li>Naming Conventions</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/Netflix/spectator/edit/master/docs/intro/conventions.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>Quick summary:</p>
<ol>
<li>Names<ul>
<li>Describe the measurement being collected</li>
<li>Use camel case</li>
<li>Static</li>
<li>Succinct</li>
</ul>
</li>
<li>Tags<ul>
<li>Should be used for dimensional drill-down</li>
<li>Be careful about combinatorial explosion</li>
<li>Tag keys should be static</li>
<li>Use <code>id</code> to distinguish between instances</li>
</ul>
</li>
<li>Use base units</li>
</ol>
<h2 id="names">Names<a class="headerlink" href="#names" title="Permanent link">&para;</a></h2>
<h3 id="describe-the-measurement">Describe the measurement<a class="headerlink" href="#describe-the-measurement" title="Permanent link">&para;</a></h3>
<h3 id="use-camel-case">Use camel case<a class="headerlink" href="#use-camel-case" title="Permanent link">&para;</a></h3>
<p>The main goal here is to promote consistency which makes it easier for users. The choice of
style is somewhat arbitrary, camel case was chosen because:</p>
<ul>
<li>Used by snmp</li>
<li>Used by java</li>
<li>It was the most common in use at Netflix when this guideline was added</li>
</ul>
<p>The exception to this rule is where there is an established common case. For example with
Amazon regions it is preferred to use us-east-1 rather than usEast1 as it is the more common
form.</p>
<h3 id="static">Static<a class="headerlink" href="#static" title="Permanent link">&para;</a></h3>
<p>There shouldn't be any dynamic content that goes into a metric name. Metric names and
associated tag keys are how users will interact with the data being produced. </p>
<h3 id="succinct">Succinct<a class="headerlink" href="#succinct" title="Permanent link">&para;</a></h3>
<p>Long names should be avoided. </p>
<h2 id="tags">Tags<a class="headerlink" href="#tags" title="Permanent link">&para;</a></h2>
<p>Historically tags have been used to play one of two roles:</p>
<ul>
<li><em>Dimensions</em>: dimensions are the primary use and it allows the data to be sliced and diced so
  it is possible to drill down into the data.</li>
<li><em>Namespace</em>: similar to packages in Java in this mode it would be used to group related data.
  This type of usage is discouraged.   </li>
</ul>
<p>As a general rule it should be possible to use the name as a pivot. This means that if
just the name is selected, then the user can drill down using other dimensions and be
able to reason about the value being shown. </p>
<p>As a concrete example, suppose we have two metrics:</p>
<ol>
<li>The number of threads currently in a thread pool.</li>
<li>The number of rows in a database table.</li>
</ol>
<h3 id="bad-approach">Bad approach<a class="headerlink" href="#bad-approach" title="Permanent link">&para;</a></h3>
<pre><code class="java">Id poolSize = registry.createId(&quot;size&quot;)
  .withTag(&quot;class&quot;, &quot;ThreadPool&quot;)
  .withTag(&quot;id&quot;, &quot;server-requests&quot;);

Id poolSize = registry.createId(&quot;size&quot;)
  .withTag(&quot;class&quot;, &quot;Database&quot;)
  .withTag(&quot;table&quot;, &quot;users&quot;);  
</code></pre>

<p>In this approach, if I select the name, <code>size</code>, it will match both the version for 
ThreadPool and Database classes. So you would get a value that is the an aggregate of the number
of threads and the number of items in a database. </p>
<h3 id="recommended">Recommended<a class="headerlink" href="#recommended" title="Permanent link">&para;</a></h3>
<pre><code class="java">Id poolSize = registry.createId(&quot;threadpool.size&quot;)
  .withTag(&quot;id&quot;, &quot;server-requests&quot;);

Id poolSize = registry.createId(&quot;db.size&quot;)
  .withTag(&quot;table&quot;, &quot;users&quot;);  
</code></pre>

<p>This variant provides enough context so that if just the name is selected the value can
be reasoned about and is at least potentially meaningful. For example if I select
<code>threadpool.size</code> I can see the total number of threads in all pools. Then I can group by or
select an <code>id</code> to drill down further.</p>
<h2 id="use-base-units">Use base units<a class="headerlink" href="#use-base-units" title="Permanent link">&para;</a></h2>
<p>Keep measurements in base units where possible. For example I would rather have all timers
in seconds, disk sizes should be bytes, or network rates should be bytes/second. The reason
is that for my uses this usually means the unit is obvious from the name. It also means the
SI prefix shown on the graph images make more sense, e.g. 1k is 1 kilobyte not 1 kilo-megabyte.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../testing/" class="btn btn-neutral float-right" title="Testing">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../clock/" class="btn btn-neutral" title="Clock"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/Netflix/spectator" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../clock/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../testing/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../js/theme.js"></script>

</body>
</html>
